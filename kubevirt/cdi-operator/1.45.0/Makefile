# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=kubevirt
REPOSITORY?=cdi-operator
TAG?=1.45.0

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)


default: image

download: clean
	wget "https://github.com/Loongson-Cloud-Community/containerized-data-importer/releases/download/v1.45.0/cdi-operator"
	chmod 755 cdi-operator
	wget "https://github.com/Loongson-Cloud-Community/containerized-data-importer/releases/download/v1.45.0/csv-generator"
	chmod 755 csv-generator

image: download
	docker build \
		-t $(IMAGE) \
		.

push:
	docker push $(IMAGE)

clean:
	rm -f cdi-operator \
		csv-generator
