# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=kubesphere
REPOSITORY?=openpitrix-jobs
TAG?=3.2.1

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)


default: image


image: import-app upgrade
	docker build \
		-t $(IMAGE) \
		.

push:
	docker push $(IMAGE)


import-app:
	curl -OL https://github.com/Loongson-Cloud-Community/openpitrix-jobs/releases/download/v3.2.1/import-app
	chmod +x $@

upgrade:
	curl -OL https://github.com/Loongson-Cloud-Community/openpitrix-jobs/releases/download/v3.2.1/upgrade
	chmod +x $@
