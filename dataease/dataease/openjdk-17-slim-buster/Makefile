# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=dataease
REPOSITORY?=dataease
VERSION?=v2.6.1

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(VERSION)
LATEST_IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):latest

default: image

image:
	docker build \
		--build-arg http_proxy=$(http_proxy) \
		--build-arg http_proxy=$(http_proxy) \
		--build-arg VERSION=$(VERSION) \
		--build-arg TARGETARCH=loong64 \
		-t $(IMAGE) \
		-t $(LATEST_IMAGE) \
		.

push:
	docker push $(IMAGE)
	docker push $(LATEST_IMAGE)
