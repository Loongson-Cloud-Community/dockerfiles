# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=openstackhelm
REPOSITORY?=ceph-config-helper
TAG?=latest-ubuntu_bionic

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)


default: image

download:
	wget "https://github.com/Loongson-Cloud-Community/kubectl/releases/download/v1.16.2/kubectl"
	wget "https://github.com/Loongson-Cloud-Community/python-crush/releases/download/1.0.35/crush-1.0.35-cp37-cp37m-linux_loongarch64.whl"
	wget "https://github.com/Loongson-Cloud-Community/pandas/releases/download/v0.19.2/pandas-0.19.2-cp37-cp37m-linux_loongarch64.whl"	

image: download
	docker build \
		-t $(IMAGE) \
		.

push:
	docker push $(IMAGE)

clean:
	rm -rf kubectl crush-1.0.35-cp37-cp37m-linux_loongarch64.whl pandas-0.19.2-cp37-cp37m-linux_loongarch64.whl 
