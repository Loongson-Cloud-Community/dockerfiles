# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=minio
REPOSITORY?=minio

MC_VERSION?=RELEASE.2024-04-29T09-56-05Z
TAG?=$(MC_VERSION)

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)
LATEST_IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):latest


default: image

image:
	docker build \
		--build-arg http_proxy=$(http_proxy) \
		--build-arg http_proxy=$(http_proxy) \
		--build-arg MC_VERSION=$(MC_VERSION) \
		-t $(IMAGE) \
		-t $(LATEST_IMAGE) \
		.

push:
	docker push $(IMAGE)
	docker push $(LATEST_IMAGE)
