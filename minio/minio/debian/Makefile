# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=minio
REPOSITORY?=minio

MINIO_VERSION?=RELEASE.2024-07-16T23-46-41Z
MC_VERSION?=RELEASE.2024-07-15T17-46-06Z
TAG?=$(MINIO_VERSION)

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)
LATEST_IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):latest


default: image

image:
	docker build \
		--build-arg MINIO_VERSION=$(MINIO_VERSION) \
		--build-arg MC_VERSION=$(MC_VERSION) \
		-t $(IMAGE) \
		-t $(LATEST_IMAGE) \
		.

push:
	docker push $(IMAGE)
	docker push $(LATEST_IMAGE)
