# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=library
REPOSITORY?=node
TAG?=10.24.1-debian

ALIASES=10.24.1

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY)

default: image

image:
	docker build \
		--build-arg http_proxy=$(http_proxy) \
		--build-arg https_proxy=$(https_proxy) \
		-t $(IMAGE):$(TAG) \
		.

push:
	docker push $(IMAGE):$(TAG)
	#alias
	@for alias in $(ALIASES); \
		do \
			docker tag $(IMAGE):$(TAG) $(IMAGE):$$alias; \
			docker push $(IMAGE):$$alias; \
		done
