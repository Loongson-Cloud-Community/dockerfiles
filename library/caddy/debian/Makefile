# This file is generated by the template.

REGISTRY?=cr.loongnix.cn
ORGANIZATION?=library
REPOSITORY?=caddy
TAG?=2.7.6

IMAGE=$(REGISTRY)/$(ORGANIZATION)/$(REPOSITORY):$(TAG)

default: image

image:
	docker build \
		--build-arg CADDY_VERSION=v$(TAG) \
		-t $(IMAGE) \
		-t $(IMAGE)-buster \
		-t $(IMAGE)-buster-slim \
		.

push:
	docker push $(IMAGE)
	docker push $(IMAGE)-buster
	docker push $(IMAGE)-buster-slim
