(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a165"],{"2Ayc":function(e,t,r){"use strict";r.d(t,"e",function(){return s}),r.d(t,"d",function(){return n}),r.d(t,"h",function(){return l}),r.d(t,"i",function(){return c}),r.d(t,"b",function(){return u}),r.d(t,"g",function(){return m}),r.d(t,"f",function(){return d}),r.d(t,"a",function(){return p}),r.d(t,"j",function(){return b}),r.d(t,"c",function(){return f});var a=r("t3Un"),i="/admin/v2",o="/pulsar-manager/admin/v2";function s(e){return Object(a.a)({url:o+"/clusters",method:"get",params:{query:e}})}function n(e){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e,method:"get"})}function l(e,t){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e,method:"put",data:t})}function c(e,t){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e,method:"post",data:t})}function u(e){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e,method:"delete"})}function m(e){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e+"/failureDomains",method:"get"})}function d(e,t){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e+"/failureDomains/"+t,method:"get"})}function p(e,t,r){return Object(a.a)({headers:{"Content-Type":"application/json","x-pulsar-cluster":e},url:i+"/clusters/"+e+"/failureDomains/"+t,method:"post",data:r})}function b(e,t,r){return Object(a.a)({headers:{"Content-Type":"application/json","x-pulsar-cluster":e},url:i+"/clusters/"+e+"/failureDomains/"+t,method:"post",data:r})}function f(e,t){return Object(a.a)({headers:{"Content-Type":"application/json","x-pulsar-cluster":e},url:i+"/clusters/"+e+"/failureDomains/"+t,method:"post"})}},ElEh:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s});var a=r("t3Un"),i="/pulsar-manager/admin/v2";function o(e){return Object(a.a)({headers:{"Content-Type":"application/json","x-pulsar-broker":e},url:"/admin/v2/broker-stats/topics",method:"get"})}function s(e){return Object(a.a)({headers:{"x-pulsar-broker":e},url:i+"/broker-stats/metrics?broker="+e,method:"get"})}},QTWJ:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"c",function(){return s}),r.d(t,"a",function(){return n});var a=r("t3Un"),i="/admin/v2";function o(e){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/clusters/"+e+"/namespaceIsolationPolicies",method:"get"})}function s(e,t,r){return Object(a.a)({headers:{"Content-Type":"application/json","x-pulsar-cluster":e},url:i+"/clusters/"+e+"/namespaceIsolationPolicies/"+t,method:"post",data:r})}function n(e,t){return Object(a.a)({headers:{"Content-Type":"application/json","x-pulsar-cluster":e},url:i+"/clusters/"+e+"/namespaceIsolationPolicies/"+t,method:"delete"})}},WEE2:function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return n}),r.d(t,"d",function(){return l}),r.d(t,"c",function(){return c});var a=r("t3Un"),i="/admin/v2",o="/pulsar-manager/admin/v2";function s(e){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:o+"/brokers/"+e,method:"get"})}function n(e){return Object(a.a)({headers:{"x-pulsar-cluster":e},url:i+"/brokers/"+e,method:"get"})}function l(e){return Object(a.a)({headers:{"x-pulsar-broker":e},url:i+"/brokers/configuration/runtime",method:"get"})}function c(e){return Object(a.a)({headers:{"x-pulsar-broker":e},url:i+"/brokers/health",method:"get"})}},Y5bG:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),Math.easeInOutQuad=function(e,t,r,a){return(e/=a/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function i(e,t,r){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=e-i,s=0;t=void 0===t?500:t;!function e(){s+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(s,i,o,t)),s<t?a(e):r&&"function"==typeof r&&r()}()}},Yfch:function(e,t,r){"use strict";function a(e){return void 0===e||null===e||""===e}function i(e,t){return function(r,a,i){if(a&&0!==a.length||!t)try{if(new URL(a).protocol!==e)return void i(new Error("Please input an `"+e+"` service URL"));i()}catch(e){i(new Error("Please input a valid service URL"))}else i()}}function o(e){var t=e.charAt(e.length-1),r=e.substring(0,e.length-1);switch(t){case"k":case"K":return 1024*Number(r);case"m":case"M":return 1024*Number(r)*1024;case"g":case"G":return 1024*Number(r)*1024*1024;case"t":case"T":return 1024*Number(r)*1024*1024*1024;default:return Number(e)}}r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o})},YpDz:function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"c",function(){return n}),r.d(t,"d",function(){return l}),r.d(t,"a",function(){return c});var a=r("t3Un"),i="/admin/v2",o="/pulsar-manager/api/v1";function s(e,t){return Object(a.a)({url:o+"/bookies/"+e,method:"get",params:{query:t}})}function n(){return Object(a.a)({url:i+"/bookies/racks-info",method:"get"})}function l(e,t,r){return Object(a.a)({url:i+"/bookies/racks-info/"+e+"?group="+t,method:"post",data:r})}function c(e){return Object(a.a)({url:i+"/bookies/racks-info/"+e,method:"delete"})}},nIcM:function(e,t,r){"use strict";var a=r("wmPQ");r.n(a).a},qwtf:function(e,t,r){"use strict";r.r(t);var a=r("P2sY"),i=r.n(a),o=r("2Ayc"),s=r("ElEh"),n=r("WEE2"),l=r("QTWJ"),c=r("YpDz"),u=r("Mz3J"),m=r("Grqa"),d=r("Yfch"),p=r("7Qib"),b=r("iXUw"),f=r("Q2AE"),h={inserted:function(e,t,r){var a=t.value,i=f.a.getters&&f.a.getters.roles;if(!(a&&a instanceof Array&&a.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var o=a;i.some(function(e){return o.includes(e)})||e.parentNode&&e.parentNode.removeChild(e)}},v=function(e){e.directive("permission",h)};window.Vue&&(window.permission=h,Vue.use(v)),h.install=v;var g={cluster:""},k={name:"ClusterInfo",directives:{permission:h},components:{Pagination:u.a,MdInput:m.a},data:function(){return{postForm:i()({},g),localList:[],listQuery:{cluster:"",page:1,limit:10},activeName:"brokers",clustersListOptions:[],form:{httpServiceUrl:"",httpsServiceUrl:"",brokerServiceUrl:"",brokerServiceUrlTls:""},brokerOptions:[],temp:{domainName:"",policyName:"",brokerValue:[]},rules:{httpServiceUrl:[{required:!0,message:this.$i18n.t("cluster.serviceUrlIsRequired"),trigger:"change"},{validator:Object(d.b)("http:",!1),trigger:"blur"}],httpsServiceUrl:[{validator:Object(d.b)("https:",!0),trigger:"blur"}],brokerServiceUrl:[{required:!0,message:this.$i18n.t("cluster.serviceUrlIsRequired"),trigger:"change"},{validator:Object(d.b)("pulsar:",!1),trigger:"blur"}],brokerServiceUrlTls:[{validator:Object(d.b)("pulsar+ssl:",!0),trigger:"blur"}],domainName:[{required:!0,message:this.$i18n.t("fd.domainNameIsRequired"),trigger:"change"}]},failureDomainList:[],brokersList:[],brokerTableKey:0,isolationTableKey:0,isolationPoliciesList:[],isolationPolicyKey:"",failureDomainsKey:"",dialogFormVisible:!1,dialogStatus:"",bookieTableKey:0,bookiesList:[],textMap:{createFailureDomain:this.$i18n.t("fd.createFdTitle"),deleteCluster:this.$i18n.t("cluster.deleteClusterDialogCaption"),deleteDomain:this.$i18n.t("fd.deleteDomainDialogCaption"),deletePolicy:this.$i18n.t("ip.deletePolicyDialogCaption")},tempIsolationPolicyList:[],tempFailureDomainList:[],deleteClusterMessage:this.$i18n.t("cluster.deleteClusterMessage"),deleteFdMessage:this.$i18n.t("fd.deleteFdMessage"),deletePolicyMessage:this.$i18n.t("ip.deletePolicyMessage"),currentActiveTab:"",key:1}},created:function(){this.postForm.cluster=this.$route.params&&this.$route.params.cluster,this.getClusterList(),this.getBrokerList(),this.$route.query&&this.$route.query.tab&&(this.activeName=this.$route.query.tab,"isolationPolicies"===this.activeName&&this.getNamespaceIsolationPolicy()),this.getFailureDomainsList(),this.getBookiesList()},methods:{getBookiesList:function(){var e=this;Object(c.b)(this.postForm.cluster).then(function(t){if(t.data.enableBookieHttp)for(var r=0;r<t.data.data.length;r++){var a={};"rw"===t.data.data[r].status?a.status="Writable":"ro"===t.data.data[r].status&&(a.status="Readonly");var i=(parseInt(t.data.data[r].storage[1])-parseInt(t.data.data[r].storage[0]))/parseInt(t.data.data[r].storage[1]);a.storage=100*i.toFixed(2),a.bookie=t.data.data[r].bookie,a.cluster=e.postForm.cluster,e.bookiesList.push(a)}})},getClusterList:function(){var e=this;Object(o.e)(this.listQuery).then(function(t){for(var r=0;r<t.data.data.length;r++)e.clustersListOptions.push(t.data.data[r].cluster),t.data.data[r].cluster===e.postForm.cluster&&(e.form.httpServiceUrl=t.data.data[r].serviceUrl,e.form.httpsServiceUrl=t.data.data[r].serviceUrlTls,e.form.brokerServiceUrl=t.data.data[r].brokerServiceUrl,e.form.brokerServiceUrlTls=t.data.data[r].brokerServiceUrlTls)})},getBrokerList:function(){var e=this;Object(n.a)(this.postForm.cluster).then(function(t){if(t.data)for(var r={},a=0;a<t.data.data.length;a++){var i={};i.cluster=e.postForm.cluster,i.broker=t.data.data[a].broker,i.ownedNamespaces=0,i.throughputIn=Object(p.a)(0),i.throughputOut=Object(p.a)(0),i.msgRateOut=Object(b.numberFormatter)(0,2),i.msgRateIn=Object(b.numberFormatter)(0,2),i.failureDomain=t.data.data[a].failureDomain,e.brokersList.push(i),r[t.data.data[a].broker]=a,Object(s.a)(t.data.data[a].broker).then(function(t){for(var a=Object(p.c)(t.request.responseURL),i=0,o=0,s=0,n=0,l=0,c=0;c<t.data.length;c++)t.data[c].dimensions.hasOwnProperty("namespace")&&2===t.data[c].dimensions.namespace.split("/").length&&(i+=t.data[c].metrics.brk_in_tp_rate,o+=t.data[c].metrics.brk_out_tp_rate,s+=t.data[c].metrics.brk_in_rate,n+=t.data[c].metrics.brk_out_rate,l+=1);e.brokersList[r[a.broker]].ownedNamespaces=l,e.brokersList[r[a.broker]].throughputIn=Object(p.a)(i),e.brokersList[r[a.broker]].throughputOut=Object(p.a)(o),e.brokersList[r[a.broker]].msgRateOut=Object(b.numberFormatter)(n,2),e.brokersList[r[a.broker]].msgRateIn=Object(b.numberFormatter)(s,2)})}})},getNamespaceIsolationPolicy:function(){var e=this;Object(l.b)(this.postForm.cluster).then(function(t){if(t.data)for(var r in e.isolationPoliciesList=[],e.tempIsolationPolicyList=[],t.data){var a={cluster:e.postForm.cluster,isolationPolicy:r,numberOfPrimaryBrokers:t.data[r].primary.length,numberOfSecondaryBrokers:t.data[r].secondary.length};e.isolationPoliciesList.push(a),e.tempIsolationPolicyList.push(a)}})},getClusterInfo:function(){this.$router.push({path:"/management/clusters/"+this.postForm.cluster+"/cluster?tab="+this.activeName})},handleClick:function(e,t){this.activeName=e.name,"isolationPolicies"===e.name&&this.getNamespaceIsolationPolicy(),this.$router.push({query:{tab:e.name}})},handleServiceUrl:function(){var e=this;this.$refs.form.validate(function(t){if(t){var r={serviceUrl:e.form.httpServiceUrl,serviceUrlTls:e.form.httpsServiceUrl,brokerServiceUrl:e.form.brokerServiceUrl,brokerServiceUrlTls:e.form.brokerServiceUrlTls};Object(o.i)(e.postForm.cluster,r).then(function(){e.$notify({title:"success",message:e.$i18n.t("cluster.updateClusterSuccessNotification"),type:"success",duration:2e3})})}})},getFailureDomainsList:function(){var e=this;Object(o.g)(this.postForm.cluster).then(function(t){if(t.data)for(var r in e.failureDomainList=[],e.tempFailureDomainList=[],t.data){var a={cluster:e.postForm.cluster,domain:r,brokers:t.data[r].brokers.length};e.failureDomainList.push(a),e.tempFailureDomainList.push(a)}})},getSelectBrokers:function(){var e=this;Object(n.b)(this.postForm.cluster).then(function(t){for(var r=0;r<t.data.length;r++)e.brokerOptions.push({value:t.data[r],label:t.data[r]})})},newFailureDomain:function(){var e=this;this.temp.domainName="",this.temp.brokerValue=[],this.brokerOptions=[],this.getSelectBrokers(),this.dialogFormVisible=!0,this.dialogStatus="createFailureDomain",this.$nextTick(function(){e.$refs.temp.clearValidate()})},handleCreateFailureDomain:function(){var e=this;this.$refs.temp.validate(function(t){if(t){var r={brokers:e.temp.brokerValue};Object(o.a)(e.postForm.cluster,e.temp.domainName,r).then(function(t){e.$notify({title:"success",message:e.$i18n.t("fd.createFdSuccessNotification"),type:"success",duration:3e3}),e.dialogFormVisible=!1,e.getFailureDomainsList()})}})},handleCreatePolicy:function(){this.$router.push({path:"/management/clusters/"+this.postForm.cluster+"/create/namespaceIsolationPolicy?created=true"})},handleFilter:function(){},handleDelete:function(){this.dialogFormVisible=!0,this.dialogStatus="deleteCluster"},deleteCluster:function(){var e=this;Object(o.b)(this.postForm.cluster).then(function(t){e.$notify({title:"success",message:e.$i18n.t("cluster.deleteClusterSuccessNotification"),type:"success",duration:2e3}),e.dialogFormVisible=!1,e.$router.push({path:"/management/clusters"})})},handleFailureDomainFilter:function(){if(Object(d.a)(this.failureDomainsKey))this.failureDomainList=this.tempFailureDomainList;else{for(var e=[],t=0;t<this.tempFailureDomainList.length;t++)-1!==this.tempFailureDomainList[t].domain.indexOf(this.failureDomainsKey)&&e.push(this.tempFailureDomainList[t]);this.failureDomainList=e}},handleDeleteFailureDomain:function(e){this.dialogFormVisible=!0,this.dialogStatus="deleteDomain",this.temp.domainName=e.domain},deleteDomain:function(){var e=this;Object(o.c)(this.postForm.cluster,this.temp.domainName).then(function(t){e.$notify({title:"success",message:e.$i18n.t("fd.deleteFdSuccessNotification"),type:"success",duration:3e3}),e.dialogFormVisible=!1,e.getFailureDomainsList()})},handleDeletePolicy:function(e){this.dialogFormVisible=!0,this.dialogStatus="deletePolicy",this.temp.policyName=e.isolationPolicy},deletePolicy:function(){var e=this;Object(l.a)(this.postForm.cluster,this.temp.policyName).then(function(t){e.$notify({title:"success",message:e.$i18n.t("ip.deletePolicySuccessNotification"),type:"success",duration:3e3}),e.dialogFormVisible=!1,e.getNamespaceIsolationPolicy()})},handlePolicyFilter:function(){if(Object(d.a)(this.isolationPolicyKey))this.isolationPoliciesList=this.tempIsolationPolicyList;else{for(var e=[],t=0;t<this.tempIsolationPolicyList.length;t++)-1!==this.tempIsolationPolicyList[t].isolationPolicy.indexOf(this.isolationPolicyKey)&&e.push(this.tempIsolationPolicyList[t]);this.isolationPoliciesList=e}}}},y=(r("nIcM"),r("KHd+")),_=Object(y.a)(k,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"createPost-container"},[r("el-form",{staticClass:"form-container",attrs:{inline:!0,model:e.postForm}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{label:"Cluster"}},[r("el-select",{attrs:{placeholder:e.$t("cluster.selectCluster")},on:{change:function(t){return e.getClusterInfo()}},model:{value:e.postForm.cluster,callback:function(t){e.$set(e.postForm,"cluster",t)},expression:"postForm.cluster"}},e._l(e.clustersListOptions,function(e,t){return r("el-option",{key:e+t,attrs:{label:e,value:e}})}),1)],1)],1)],1),e._v(" "),r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:e.$t("tabs.broker"),name:"brokers"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[r("el-table",{key:e.brokerTableKey,staticStyle:{width:"100%"},attrs:{data:e.brokersList,border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:e.$t("broker.name"),"min-width":"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{staticClass:"link-type",attrs:{to:"/management/brokers/"+t.row.cluster+"/"+t.row.broker+"/broker"}},[r("span",[e._v(e._s(t.row.broker))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("fd.failureDomainNumber"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.failureDomain,function(a){return r("el-tag",{key:a,staticClass:"list-el-tag",attrs:{effect:"dark"}},[r("router-link",{staticClass:"link-type",attrs:{to:"/management/clusters/"+t.row.cluster+"/"+a+"/failureDomainName"}},[e._v("\n                    "+e._s(a)+"\n                  ")])],1)})}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("broker.ownedNamespaceNumber"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.ownedNamespaces))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("broker.msgRate"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-download",staticStyle:{"margin-right":"2px"}}),e._v(" "),r("span",[e._v(e._s(t.row.msgRateIn))]),e._v(" "),r("br"),e._v(" "),r("i",{staticClass:"el-icon-upload2",staticStyle:{"margin-right":"2px"}}),e._v(" "),r("span",[e._v(e._s(t.row.msgRateOut))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("broker.throughput"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-download",staticStyle:{"margin-right":"2px"}}),e._v(" "),r("span",[e._v(e._s(t.row.throughputIn))]),e._v(" "),r("br"),e._v(" "),r("i",{staticClass:"el-icon-upload2",staticStyle:{"margin-right":"2px"}}),e._v(" "),r("span",[e._v(e._s(t.row.throughputOut))])]}}])})],1)],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("tabs.bookie"),name:"bookies"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[r("el-table",{key:e.bookieTableKey,staticStyle:{width:"100%"},attrs:{data:e.bookiesList,border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:e.$t("bookie.name"),"min-width":"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.bookie))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("bookie.state"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.status))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("bookie.storage"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.storage)+"%")])]}}])})],1)],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("tabs.isolationpolicies"),name:"isolationPolicies"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:e.$t("ip.searchIps")},nativeOn:{keyup:function(t){return"keyCode"in t&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlePolicyFilter(t)}},model:{value:e.isolationPolicyKey,callback:function(t){e.isolationPolicyKey=t},expression:"isolationPolicyKey"}}),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handlePolicyFilter}}),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreatePolicy}},[e._v(e._s(e.$t("ip.newIp")))]),e._v(" "),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[r("el-table",{key:e.isolationTableKey,staticStyle:{"margin-top":"10px"},attrs:{data:e.isolationPoliciesList,border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:e.$t("ip.nameLabel"),"min-width":"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{staticClass:"link-type",attrs:{to:"/management/clusters/"+t.row.cluster+"/"+t.row.isolationPolicy+"/namespaceIsolationPolicy"}},[r("span",[e._v(e._s(t.row.isolationPolicy))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("ip.numPBLabel"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.numberOfPrimaryBrokers))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("ip.numSBLabel"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.numberOfSecondaryBrokers))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"240","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{attrs:{to:"/management/clusters/"+t.row.cluster+"/"+t.row.isolationPolicy+"/namespaceIsolationPolicy"}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v(e._s(e.$t("table.edit")))])],1),e._v(" "),r("el-button",{staticClass:"el-button el-button--primary el-button--medium",attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.handleDeletePolicy(t.row)}}},[e._v("Delete")])]}}])})],1)],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("tabs.failuredomains"),name:"failureDomains"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:e.$t("fd.searchFds")},nativeOn:{keyup:function(t){return"keyCode"in t&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFailureDomainFilter(t)}},model:{value:e.failureDomainsKey,callback:function(t){e.failureDomainsKey=t},expression:"failureDomainsKey"}}),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFailureDomainFilter}}),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.newFailureDomain}},[e._v(e._s(e.$t("fd.newFd")))]),e._v(" "),r("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.failureDomainList,border:""}},[r("el-table-column",{attrs:{prop:"domain",label:"Domain"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{staticClass:"link-type",attrs:{to:"/management/clusters/"+t.row.cluster+"/"+t.row.domain+"/failureDomainName"}},[r("span",[e._v(e._s(t.row.domain))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"brokers",label:"Brokers"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.brokers))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{attrs:{to:"/management/clusters/"+t.row.cluster+"/"+t.row.domain+"/failureDomainName"}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v(e._s(e.$t("table.edit")))])],1),e._v(" "),r("el-button",{staticClass:"el-button el-button--primary el-button--medium",attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.handleDeleteFailureDomain(t.row)}}},[e._v("Delete")])]}}])})],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("tabs.config"),name:"config"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form",{ref:"form",attrs:{inline:!1,model:e.form,rules:e.rules,"label-position":"top"}},[r("el-form-item",{attrs:{label:e.$t("cluster.webServiceUrlPrefix"),prop:"httpServiceUrl"}},[r("el-input",{attrs:{placeholder:"http://"},model:{value:e.form.httpServiceUrl,callback:function(t){e.$set(e.form,"httpServiceUrl",t)},expression:"form.httpServiceUrl"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("cluster.webServiceUrlTlsPrefix"),prop:"httpsServiceUrl"}},[r("el-input",{attrs:{placeholder:"https://"},model:{value:e.form.httpsServiceUrl,callback:function(t){e.$set(e.form,"httpsServiceUrl",t)},expression:"form.httpsServiceUrl"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("cluster.brokerServiceUrlPrefix"),prop:"brokerServiceUrl"}},[r("el-input",{attrs:{placeholder:"pulsar://"},model:{value:e.form.brokerServiceUrl,callback:function(t){e.$set(e.form,"brokerServiceUrl",t)},expression:"form.brokerServiceUrl"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("cluster.brokerServiceUrlTlsPrefix"),prop:"brokerServiceUrlTls"}},[r("el-input",{attrs:{placeholder:"pulsar+ssl://"},model:{value:e.form.brokerServiceUrlTls,callback:function(t){e.$set(e.form,"brokerServiceUrlTls",t)},expression:"form.brokerServiceUrlTls"}})],1),e._v(" "),r("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.handleServiceUrl}},[e._v(e._s(e.$t("cluster.updateCluster")))])],1)],1)],1),e._v(" "),r("h4",{staticStyle:{color:"#E57470"}},[e._v(e._s(e.$t("common.dangerZone")))]),e._v(" "),r("hr",{staticClass:"danger-line"}),e._v(" "),r("el-button",{staticClass:"button",attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v(e._s(e.$t("cluster.deleteCluster")))])],1)],1),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogFormVisible,title:e.textMap[e.dialogStatus],width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"temp",attrs:{rules:e.rules,model:e.temp,"label-position":"top"}},["createFailureDomain"===e.dialogStatus?r("div",[r("el-form-item",{attrs:{label:e.$t("fd.name"),prop:"domainName"}},[r("el-input",{model:{value:e.temp.domainName,callback:function(t){e.$set(e.temp,"domainName",t)},expression:"temp.domainName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("fd.brokerList"),prop:"brokerList"}},[r("el-select",{staticStyle:{width:"254px"},attrs:{placeholder:e.$t("broker.placeholderSelectBroker"),multiple:""},model:{value:e.temp.brokerValue,callback:function(t){e.$set(e.temp,"brokerValue",t)},expression:"temp.brokerValue"}},e._l(e.brokerOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleCreateFailureDomain()}}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1)],1):e._e(),e._v(" "),"deleteCluster"===e.dialogStatus?r("div",[r("el-form-item",[r("h4",[e._v(e._s(e.deleteClusterMessage))])]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteCluster()}}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1)],1):e._e(),e._v(" "),"deleteDomain"===e.dialogStatus?r("div",[r("el-form-item",[r("h4",[e._v(e._s(e.deleteFdMessage))])]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteDomain()}}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1)],1):e._e(),e._v(" "),"deletePolicy"===e.dialogStatus?r("div",[r("el-form-item",[r("h4",[e._v(e._s(e.deletePolicyMessage))])]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deletePolicy()}}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1)],1):e._e()])],1)],1)},[],!1,null,null,null);_.options.__file="cluster.vue";t.default=_.exports},wmPQ:function(e,t,r){}}]);