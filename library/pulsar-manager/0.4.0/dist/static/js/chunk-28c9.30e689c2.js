(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-28c9"],{Lr8e:function(e,t,r){"use strict";r.r(t);var o=r("JhLU"),a={name:"UsersInfo",components:{Pagination:r("Mz3J").a},data:function(){return{userList:[],userTableKey:0,userListLoading:!1,textMap:{create:this.$i18n.t("user.newUser"),delete:this.$i18n.t("user.deleteUser"),update:this.$i18n.t("user.updateUser")},dialogFormVisible:!1,dialogStatus:"",form:{name:"",description:"",email:"",phoneNumber:"",location:"",company:"",password:"",repeatPassword:""},resourceTypeListOptions:[],resourceTypeValue:"",temp:{name:"",description:"",phoneNumber:"",location:"",company:"",password:""},description:"",rules:{name:[{required:!0,message:this.$i18n.t("user.userNameIsRequired"),trigger:"blur"}],email:[{required:!0,message:this.$i18n.t("user.userEmailIsRequired"),trigger:"blur"}],password:[{required:!0,message:this.$i18n.t("user.userPasswordIsRequired"),trigger:"blur"}],repeatPassword:[{required:!0,message:this.$i18n.t("user.userPasswordIsRequired"),trigger:"blur"}]},total:0,listQuery:{page:1,limit:10}}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;Object(o.b)(this.listQuery.page,this.listQuery.limit).then(function(t){if(t.data){e.userList=[],e.total=t.data.total;for(var r=0;r<t.data.data.length;r++)e.userList.push({name:t.data.data[r].name,description:t.data.data[r].description,email:t.data.data[r].email,phoneNumber:t.data.data[r].phoneNumber,location:t.data.data[r].location,company:t.data.data[r].company})}})},handleCreateUser:function(){this.form.name="",this.form.description="",this.form.email="",this.form.phoneNumber="",this.form.location="",this.form.company="",this.form.password="",this.dialogFormVisible=!0,this.dialogStatus="create"},handleDeleteUser:function(e){this.form.name=e.name,this.temp.name=e.name,this.temp.description=e.description,this.temp.email=e.email,this.temp.phoneNumber=e.phoneNumber,this.temp.location=e.location,this.temp.company=e.company,this.dialogFormVisible=!0,this.dialogStatus="delete"},handleUpdateUser:function(e){this.form.name=e.name,this.form.description=e.description,this.form.email=e.email,this.form.phoneNumber=e.phoneNumber,this.form.location=e.location,this.form.company=e.company,this.dialogFormVisible=!0,this.dialogStatus="update"},handleOptions:function(){var e=this;this.$refs.form.validate(function(t){if(t)switch(e.dialogStatus){case"create":e.createUser();break;case"delete":e.deleteUser();break;case"update":e.updateUser()}})},createUser:function(){var e=this,t={name:this.form.name,description:this.form.description,email:this.form.email,phoneNumber:this.form.phoneNumber,location:this.form.location,company:this.form.company,password:this.form.password};this.form.password===this.form.repeatPassword?Object(o.d)(t).then(function(t){t.data&&(t.data.hasOwnProperty("error")?e.$notify({title:"error",message:t.data.error,type:"error",duration:2e3}):(e.$notify({title:"success",message:e.$i18n.t("user.creatUserNotification"),type:"success",duration:2e3}),e.dialogFormVisible=!1,e.getUsers()))}):this.$notify({title:"error",message:this.$i18n.t("uesr.passwordNotification"),type:"error",duration:2e3})},deleteUser:function(){var e=this,t={name:this.temp.name,description:this.temp.description,email:this.temp.email,phoneNumber:this.temp.phoneNumber,location:this.temp.location,company:this.temp.company,password:this.temp.password};Object(o.a)(t).then(function(t){t.data&&(t.data.hasOwnProperty("error")?e.$notify({title:"error",message:t.data.error,type:"error",duration:2e3}):(e.$notify({title:"success",message:e.$i18n.t("user.deleteUserNotification"),type:"success",duration:2e3}),e.getUsers(),e.dialogFormVisible=!1))})},updateUser:function(){var e=this,t={name:this.form.name,description:this.form.description,email:this.form.email,phoneNumber:this.form.phoneNumber,location:this.form.location,company:this.form.company,password:this.form.password};Object(o.e)(t).then(function(t){t.data&&(t.data.hasOwnProperty("error")?e.$notify({title:"error",message:t.data.error,type:"error",duration:2e3}):(e.$notify({title:"success",message:e.$i18n.t("user.updateUserNotification"),type:"success",duration:2e3}),e.getUsers(),e.dialogFormVisible=!1))})}}},s=r("KHd+"),i=Object(s.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreateUser}},[e._v(e._s(e.$t("user.buttonNewUser")))]),e._v(" "),r("el-row",{attrs:{gutter:24}},[r("el-col",{staticStyle:{"margin-top":"15px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userListLoading,expression:"userListLoading"}],key:e.userTableKey,staticStyle:{width:"100%"},attrs:{data:e.userList,border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:e.$t("user.colUserName"),"min-width":"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("user.colUserDesc"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.description))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("user.colUserEmail"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.email))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("user.colUserPhone"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.phoneNumber))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("user.colUserLocation"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.location))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("user.colUserCompany"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.company))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.handleUpdateUser(t.row)}}},[e._v(e._s(e.$t("table.edit")))]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDeleteUser(t.row)}}},[e._v(e._s(e.$t("table.delete")))])]}}])})],1),e._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getUsers}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-position":"top"}},["create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserName"),prop:"name"}},[r("el-input",{attrs:{placeholder:e.$t("user.userNamePlaceHolder")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserDesc")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userDescPlaceHolder"),type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserEmail"),prop:"email"}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userEmailPlaceHolder")},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserPhone")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userPhonePlaceHolder")},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserLocation")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userLocationPlaceHolder")},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserCompany")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userCompnayPlaceHolder")},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("uesr.colUserPassword"),prop:"password"}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userPasswordPlaceHolder"),type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserPasswordRepeat"),prop:"repeatPassword"}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userPasswordPlaceHolder"),type:"password"},model:{value:e.form.repeatPassword,callback:function(t){e.$set(e.form,"repeatPassword",t)},expression:"form.repeatPassword"}})],1):e._e(),e._v(" "),"update"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserName")}},[r("span",[e._v(e._s(e.form.name))])]):e._e(),e._v(" "),"update"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserDesc")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userDescPlaceHolder"),type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1):e._e(),e._v(" "),"update"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserEmail"),prop:"email"}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userEamilPlaceHolder")},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1):e._e(),e._v(" "),"update"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserPhone")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userPhonePlaceHolder")},model:{value:e.form.phoneNumber,callback:function(t){e.$set(e.form,"phoneNumber",t)},expression:"form.phoneNumber"}})],1):e._e(),e._v(" "),"update"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserLocation")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userLocationPlaceHolder")},model:{value:e.form.location,callback:function(t){e.$set(e.form,"location",t)},expression:"form.location"}})],1):e._e(),e._v(" "),"update"===e.dialogStatus?r("el-form-item",{attrs:{label:e.$t("user.colUserCompany")}},[r("el-input",{attrs:{rows:2,placeholder:e.$t("user.userCompnayPlaceHolder")},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1):e._e(),e._v(" "),"delete"===e.dialogStatus?r("el-form-item",[r("h4",[e._v("Delete User "+e._s(e.form.name))])]):e._e(),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleOptions()}}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1)],1)],1)],1)},[],!1,null,null,null);i.options.__file="index.vue";t.default=i.exports},Y5bG:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),Math.easeInOutQuad=function(e,t,r,o){return(e/=o/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function a(e,t,r){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=e-a,i=0;t=void 0===t?500:t;!function e(){i+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(i,a,s,t)),i<t?o(e):r&&"function"==typeof r&&r()}()}}}]);