(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1e6c"],{"+4/V":function(t,e,s){},"16wN":function(t,e,s){"use strict";s.r(e);var i=s("P2sY"),n=s.n(i),o=s("EHAl"),a=s("F2Sz"),r=s("1tBZ"),l=s("Mz3J"),c=s("7Qib"),u=s("iXUw"),p=s("HPFg"),d=s("Yfch"),m={persistent:"",tenant:"",namespace:"",topic:"",partition:""},h={cluster:""},b={name:"TopicInfo",components:{Pagination:l.a},data:function(){return{postForm:n()({},m),clusterForm:n()({},h),replicatedClusters:[],tenantsListOptions:[],namespacesListOptions:[],topicsListOptions:[],activeName:"overview",topicStats:[],infoData:[],terminateStatus:"",compaction:"NOT RUN",offload:"NOT RUN",producersListLoading:!1,producerTableKey:0,producersList:[],producersTotal:0,producersListQuery:{page:1,limit:0},subscriptionsListLoading:!1,subscriptionTableKey:0,subscriptionsList:[],subscriptionsTotal:0,subscriptionsListQuery:{page:1,limit:0},segmentsListLoading:!1,segmentTableKey:0,segmentsList:[],storageSize:0,entries:0,segments:0,dynamicTags:[],inputVisible:!1,inputValue:"",roleValue:[],roleMap:{},roleMapOptions:{},roleOptions:[{value:"consume",label:this.$i18n.t("role_actions.consume")},{value:"produce",label:this.$i18n.t("role_actions.produce")},{value:"functions",label:this.$i18n.t("role_actions.functions")}],authorizationContent:this.$i18n.t("topic.policy.authorizationContent"),topicName:"",firstInit:!1,firstInitTopic:!1,cursorTableKey:0,cursorsList:[],cursorListLoading:!1,currentTabName:"",nonPersistent:!1,textMap:{delete:this.$i18n.t("topic.deleteTopic"),createSub:this.$i18n.t("topic.subscription.sub"),deleteSub:this.$i18n.t("topic.subscription.unsub")},subName:"",dialogFormVisible:!1,dialogStatus:"",topicPartitions:{},partitionDisabled:!1,partitionsListOptions:[],routeTopic:"",routeTopicPartition:-1,routeCluster:"",loaded:!1,offloadThreshold:"0K",offloadDisabled:!0}},created:function(){if(this.postForm.persistent=this.$route.params&&this.$route.params.persistent,this.postForm.tenant=this.$route.params&&this.$route.params.tenant,this.postForm.namespace=this.$route.params&&this.$route.params.namespace,this.postForm.topic=this.$route.params&&this.$route.params.topic,this.clusterForm.cluster=this.$route.query&&this.$route.query.cluster,this.routeCluster=this.clusterForm.cluster,this.tenantNamespaceTopic=this.postForm.tenant+"/"+this.postForm.namespace+"/"+this.postForm.topic,this.postForm.topic.indexOf("-partition-")>0){var t=this.postForm.topic.split("-partition-");this.postForm.partition=t[1],this.postForm.topic=t[0]}else this.postForm.partition="-1",this.partitionDisabled=!0;this.routeTopic=this.postForm.topic,this.routeTopicPartition=this.postForm.partition,this.$route.query&&(this.$route.query.tab?this.activeName=this.$route.query.tab:this.activeName="overview"),this.currentTabName=this.activeName,"persistent"===this.postForm.persistent?this.nonPersistent=!1:"non-persistent"===this.postForm.persistent&&(this.nonPersistent=!0),this.topicName=this.postForm.persistent+"://"+this.tenantNamespaceTopic,this.firstInit=!0,this.firstInitTopic=!0,this.getRemoteTenantsList(),this.getNamespacesList(this.postForm.tenant),this.getTopicsList(),this.initBundleRange(),this.initTopicBroker(),this.initTopicStats(),this.getReplicatedClusters(),this.nonPersistent||(this.initTerminateAndSegments(),this.getCompactionStatus(),this.getOffloadStatus()),this.loaded=!0,this.initPermissions()},methods:{onClusterChanged:function(){this.loaded&&this.routeCluster!==this.clusterForm.cluster&&this.reload()},onPartitionChanged:function(){this.loaded&&parseInt(this.routeTopicPartition)!==parseInt(this.postForm.partition)&&this.reload()},generatePartitions:function(){var t=parseInt(this.topicPartitions[this.postForm.topic]);if(this.partitionsListOptions=[],t>0){this.partitionDisabled=!1,"-1"===this.postForm.partition&&(this.postForm.partition="");for(var e=0;e<t;e++)this.partitionsListOptions.push(e)}else this.partitionDisabled=!0,this.postForm.partition="-1",this.loaded&&this.routeTopic!==this.postForm.topic&&this.reload()},getRemoteTenantsList:function(){var t=this;Object(o.b)().then(function(e){if(e.data)for(var s=0;s<e.data.total;s++)t.tenantsListOptions.push(e.data.data[s].tenant)})},getOffloadStatus:function(){var t=this;Object(r.u)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){e.data&&(t.offload=e.data.status,t.offloadDisabled="RUNNING"===t.offload)})},getCompactionStatus:function(){var t=this;Object(r.c)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){e.data&&(t.compaction=e.data.status)})},initTopicStats:function(){var t=this;Object(r.k)(this.postForm.persistent,this.getFullTopic()).then(function(e){if(e.data){for(var s in t.topicStats=[],t.topicStats.push({inMsg:Object(u.numberFormatter)(e.data.msgRateIn,2),outMsg:Object(u.numberFormatter)(e.data.msgRateOut,2),inBytes:Object(c.a)(e.data.msgThroughputIn),outBytes:Object(c.a)(e.data.msgThroughputOut)}),e.data.publishers)t.producersList.push({producerId:e.data.publishers[s].producerId,producerName:e.data.publishers[s].producerName,inMsg:Object(u.numberFormatter)(e.data.publishers[s].msgRateIn,2),inBytes:Object(c.a)(e.data.publishers[s].msgThroughputIn),avgMsgSize:Object(u.numberFormatter)(e.data.publishers[s].averageMsgSize,2),address:e.data.publishers[s].address,since:e.data.publishers[s].connectedSince});for(var i in t.subscriptionsList=[],e.data.subscriptions){var n="";e.data.subscriptions[i].hasOwnProperty("type")&&(n=e.data.subscriptions[i].type),t.subscriptionsList.push({subscription:i,outMsg:Object(u.numberFormatter)(e.data.subscriptions[i].msgRateOut,2),outBytes:Object(c.a)(e.data.subscriptions[i].msgThroughputOut),msgExpired:Object(u.numberFormatter)(e.data.subscriptions[i].msgRateExpired,2),backlog:e.data.subscriptions[i].msgBacklog,type:n,subscriptionLink:"/management/subscriptions/"+t.postForm.persistent+"/"+t.getFullTopic()+"/"+i+"/subscription"})}t.storageSize=Object(c.a)(e.data.storageSize,0)}})},initBundleRange:function(){var t=this;Object(r.p)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){e.data&&t.infoData.push({infoColumn:"bundle",data:e.data})})},initTopicBroker:function(){var t=this;Object(r.r)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){e.data&&(t.infoData.push({infoColumn:"broker",data:e.data.brokerUrl}),t.infoData.push({infoColumn:"httpUrl",data:e.data.httpUrl}))})},initTerminateAndSegments:function(){var t=this;Object(r.l)(this.postForm.persistent,this.getFullTopic()).then(function(e){if(e.data){t.terminateStatus=e.data.state,t.segments=e.data.ledgers.length;var s=t.segments-1;for(var i in e.data.ledgers)s===parseInt(i)?t.segmentsList.push({ledgerId:e.data.ledgers[i].ledgerId,entries:e.data.currentLedgerEntries,size:Object(u.numberFormatter)(e.data.currentLedgerSize,2),offload:e.data.ledgers[i].offloaded,status:"opening"}):t.segmentsList.push({ledgerId:e.data.ledgers[i].ledgerId,entries:e.data.ledgers[i].entries,size:Object(u.numberFormatter)(e.data.ledgers[i].size,2),offload:e.data.ledgers[i].offloaded,status:"closing"});for(var n in t.entries=Object(u.numberFormatter)(e.data.numberOfEntries,0),e.data.cursors)t.cursorsList.push({name:n,markDeletePosition:e.data.cursors[n].markDeletePosition,readPosition:e.data.cursors[n].readPosition,waitingReadOp:e.data.cursors[n].waitingReadOp,pendingReadOps:e.data.cursors[n].pendingReadOps,numberOfEntriesSinceFirstNotAckedMessage:e.data.cursors[n].numberOfEntriesSinceFirstNotAckedMessage})}})},getNamespacesList:function(t){var e=this;this.namespacesListOptions=[],this.topicsListOptions=[],this.replicatedClusters=[],this.firstInit?this.firstInit=!1:(this.postForm.namespace="",this.postForm.topic="",this.clusterForm.cluster=this.routeCluster||""),Object(a.f)(t,this.query).then(function(t){if(t.data)for(var s=[],i=0;i<t.data.data.length;i++)s=t.data.data[i].namespace,e.namespacesListOptions.push(s)})},getReplicatedClusters:function(){var t=this;this.postForm.tenant&&this.postForm.namespace&&Object(a.g)(this.postForm.tenant,this.postForm.namespace).then(function(e){e.data&&(t.replicatedClusters=e.data,e.data.length>0&&(t.clusterForm.cluster=t.routeCluster||t.replicatedClusters[0]))})},getTopicsList:function(){var t=this;this.getReplicatedClusters(),this.topicsListOptions=[],this.partitionsListOptions=[],this.firstInitTopic?this.firstInitTopic=!1:(this.postForm.topic="",this.postForm.partition=""),Object(r.n)(this.postForm.tenant,this.postForm.namespace).then(function(e){if(e.data)for(var s in e.data.topics)t.topicsListOptions.push(e.data.topics[s].topic),t.topicPartitions[e.data.topics[s].topic]=e.data.topics[s].partitions,e.data.topics[s].topic===t.postForm.topic&&t.generatePartitions()})},reload:function(){this.$router.push({path:"/management/topics/"+this.postForm.persistent+"/"+this.getFullTopic()+"/topic?tab="+this.currentTabName+"&cluster="+this.getCurrentCluster()})},getCurrentCluster:function(){return this.clusterForm.cluster||""},handleClick:function(t,e){this.currentTabName=t.name,this.$router.push({query:{tab:t.name,cluster:this.getCurrentCluster()}})},handleUnload:function(){var t=this;Object(r.B)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){t.$notify({title:"success",message:t.$i18n.t("topic.notification.unloadTopicSuccess"),type:"success",duration:3e3})})},handleTerminate:function(){var t=this;Object(r.A)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){t.$notify({title:"success",message:t.$i18n.t("topic.notification.terminateTopicSuccess"),type:"success",duration:3e3}),t.initTerminateAndSegments()})},initPermissions:function(){var t=this;Object(r.q)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){if(e.data)for(var s in e.data)t.dynamicTags.push(s),t.roleMap[s]=e.data[s],t.roleMapOptions[s]=t.roleOptions})},handleClose:function(t){var e=this;this.dynamicTags.splice(this.dynamicTags.indexOf(t),1),Object(r.y)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic(),t).then(function(s){e.$notify({title:"success",message:e.$i18n.t("namespace.notification.removeRoleSuccess"),type:"success",duration:3e3}),delete e.roleMap[t],delete e.roleMapOptions[t]})},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this,e=this.inputValue;if(e){if(this.roleMap.hasOwnProperty(e))return this.$message({message:this.$i18n.t("role.roleAlreadyExists"),type:"error"}),this.inputVisible=!1,void(this.inputValue="");Object(r.s)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic(),e,this.roleMap[e]).then(function(s){t.$notify({title:"success",message:t.$i18n.t("namespace.notification.addRoleSuccess"),type:"success",duration:3e3}),t.dynamicTags.push(e),t.roleMap[e]=[],t.roleMapOptions[e]=t.roleOptions})}this.inputVisible=!1,this.inputValue=""},handleChangeOptions:function(t){var e=this;Object(r.s)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic(),t,this.roleMap[t]).then(function(t){e.$notify({title:"success",message:e.$i18n.t("namespace.notification.addRoleActionsSuccess"),type:"success",duration:3e3})}),this.$forceUpdate()},getFullTopic:function(){var t=this.postForm.tenant+"/"+this.postForm.namespace+"/"+this.postForm.topic;return parseInt(this.postForm.partition)>=0&&(t+="-partition-"+this.postForm.partition),t},handleCompaction:function(){var t=this;Object(r.b)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){t.$notify({title:"success",message:t.$i18n.t("topic.notification.startCompactionSuccess"),type:"success",duration:3e3}),t.getCompactionStatus()})},handleOffload:function(){var t=this,e=Object(d.c)(this.offloadThreshold);isNaN(e)||e<0?this.$notify({title:"error",message:this.$i18n.t("topic.errorLog.invalidSizeStr"),type:"error",duration:3e3}):Object(r.l)(this.postForm.persistent,this.getFullTopic()).then(function(s){var i=s.data.ledgers;if(!i||i.length<=1)t.$notify({title:"warn",message:t.$i18n.t("topic.errorLog.noOffloadData"),type:"warn",duration:3e3});else{i[i.length-1].size=s.data.currentLedgerSize;for(var n,o=0,a=(i=i.reverse())[0].ledgerId,l=0;l<i.length;l++){if((o+=i[l].size)>e){n={ledgerId:a,entryId:0,partitionIndex:-1};break}a=i[l].ledgerId}n?(Object(r.t)(t.getCurrentCluster(),t.postForm.persistent,t.getFullTopic(),n).then(function(e){var s=t.$i18n.t("topic.notification.startOffloadSuccess")+" before "+n.ledgerId+":"+n.entryId+" !";t.$notify({title:"success",message:s,type:"success",duration:3e3})}),t.getOffloadStatus()):t.$notify({title:"warn",message:t.$i18n.t("topic.errorLog.noOffloadData"),type:"warn",duration:3e3})}})},handleDeleteTopic:function(){this.dialogStatus="delete",this.dialogFormVisible=!0},deleteTopic:function(){var t=this;Object(r.e)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic()).then(function(e){t.$notify({title:"success",message:t.$i18n.t("topic.notification.deleteTopicSuccess"),type:"success",duration:3e3}),t.$router.push({path:"/management/namespaces/"+t.postForm.tenant+"/"+t.postForm.namespace+"/namespace?tab=topics"})})},handleCreateSub:function(){this.subName="",this.dialogStatus="createSub",this.dialogFormVisible=!0},createSub:function(){var t=this;this.subName.length<=0?this.$notify({title:"error",message:this.$i18n.t("topic.subscription.subNotification"),type:"error",duration:3e3}):Object(p.d)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic(),this.subName).then(function(e){t.$notify({title:"success",message:t.$i18n.t("topic.subscription.createSubSuccess"),type:"success",duration:3e3}),t.initTopicStats(),t.dialogFormVisible=!1})},handleCommand:function(t){this.subName=t,this.dialogStatus="deleteSub",this.dialogFormVisible=!0},deleteSub:function(){var t=this;Object(p.a)(this.getCurrentCluster(),this.postForm.persistent,this.getFullTopic(),this.subName).then(function(e){t.$notify({title:"success",message:t.$i18n.t("topic.subscription.deleteSubSuccess"),type:"success",duration:3e3}),t.initTopicStats(),t.dialogFormVisible=!1})}}},f=(s("ZmL9"),s("KHd+")),g=Object(f.a)(b,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"createPost-container"},[s("el-form",{staticClass:"form-container",attrs:{inline:!0,model:t.postForm}},[s("el-form-item",{attrs:{label:t.$t("tenant.label")}},[s("el-select",{attrs:{placeholder:"select tenant",filterable:""},on:{change:function(e){return t.getNamespacesList(t.postForm.tenant)}},model:{value:t.postForm.tenant,callback:function(e){t.$set(t.postForm,"tenant",e)},expression:"postForm.tenant"}},t._l(t.tenantsListOptions,function(t,e){return s("el-option",{key:t+e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("namespace.label")}},[s("el-select",{attrs:{placeholder:"select namespace",filterable:""},on:{change:function(e){return t.getTopicsList()}},model:{value:t.postForm.namespace,callback:function(e){t.$set(t.postForm,"namespace",e)},expression:"postForm.namespace"}},t._l(t.namespacesListOptions,function(t,e){return s("el-option",{key:t+e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("topic.label")}},[s("el-select",{attrs:{placeholder:"select topic",filterable:""},on:{change:function(e){return t.generatePartitions()}},model:{value:t.postForm.topic,callback:function(e){t.$set(t.postForm,"topic",e)},expression:"postForm.topic"}},t._l(t.topicsListOptions,function(t,e){return s("el-option",{key:t+e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("topic.partition")}},[s("el-select",{attrs:{disabled:t.partitionDisabled,filterable:"",placeholder:"select partition"},on:{change:function(e){return t.onPartitionChanged()}},model:{value:t.postForm.partition,callback:function(e){t.$set(t.postForm,"partition",e)},expression:"postForm.partition"}},t._l(t.partitionsListOptions,function(t,e){return s("el-option",{key:t+e,attrs:{label:t,value:t}})}),1)],1)],1),t._v(" "),t.replicatedClusters.length>0?s("el-form",{staticClass:"form-container",attrs:{inline:!0,model:t.clusterForm}},[s("el-form-item",{attrs:{label:t.$t("table.cluster")}},[s("el-radio-group",{on:{change:function(e){return t.onClusterChanged()}},model:{value:t.clusterForm.cluster,callback:function(e){t.$set(t.clusterForm,"cluster",e)},expression:"clusterForm.cluster"}},t._l(t.replicatedClusters,function(t){return s("el-radio-button",{key:t,attrs:{label:t}})}),1)],1)],1):t._e()],1),t._v(" "),s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:t.$t("tabs.overview"),name:"overview"}},[s("el-row",{attrs:{gutter:12}},[s("el-col",{attrs:{span:12}},[s("el-card",{staticStyle:{height:"305px"}},[s("h4",[t._v(t._s(t.$t("topic.info")))]),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.infoData,"show-header":!1,border:""}},[s("el-table-column",{attrs:{label:t.$t("topic.column"),prop:"infoColumn"}}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.data"),prop:"data"}})],1),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-top":"15px"},attrs:{type:"danger",icon:"el-icon-download"},on:{click:t.handleUnload}},[t._v("\n              "+t._s(t.$t("topic.unload"))+"\n            ")])],1)],1)],1),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.topicStats,border:""}},[s("el-table-column",{attrs:{label:t.$t("common.inMsg"),prop:"inMsg"}}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.outMsg"),prop:"outMsg"}}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.inBytes"),prop:"inBytes"}}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.outBytes"),prop:"outBytes"}})],1),t._v(" "),s("h4",[t._v(t._s(t.$t("topic.producer.producers")))]),t._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.producersListLoading,expression:"producersListLoading"}],key:t.producerTableKey,staticStyle:{width:"100%"},attrs:{data:t.producersList,border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{label:t.$t("topic.producer.producerId"),"min-width":"50px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.producerId))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.producer.producerName"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.producerName))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.inMsg"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.inMsg))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.inBytes"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.inBytes))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.producer.avgMsgSize"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.avgMsgSize))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.producer.address"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.address))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.producer.since"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.since))])]}}])})],1)],1)],1),t._v(" "),s("h4",[t._v(t._s(t.$t("topic.subscription.subscriptions")))]),t._v(" "),s("el-button",{staticClass:"filter-item",staticStyle:{"margin-bottom":"15px"},attrs:{type:"success"},on:{click:t.handleCreateSub}},[t._v("\n        "+t._s(t.$t("topic.subscription.newSub"))+"\n      ")]),t._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.subscriptionsListLoading,expression:"subscriptionsListLoading"}],key:t.subscriptionTableKey,staticStyle:{width:"100%"},attrs:{data:t.subscriptionsList,border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{label:t.$t("topic.subscription.name"),"min-width":"50px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("router-link",{staticClass:"link-type",attrs:{to:e.row.subscriptionLink}},[s("span",[t._v(t._s(e.row.subscription))])])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.subscription.type"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.type))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.outMsg"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.outMsg))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("common.outBytes"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.outBytes))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.subscription.msgExpired"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.msgExpired))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.subscription.backlog"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.backlog))]),t._v(" "),s("el-dropdown",{on:{command:function(s){return t.handleCommand(e.row.subscription)}}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"el-icon-more"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("router-link",{staticClass:"link-type",attrs:{to:e.row.subscriptionLink+"?topTab=backlogOperation&leftTab=skip"}},[s("el-dropdown-item",{attrs:{command:"skip"}},[t._v(t._s(t.$t("topic.subscription.skip")))])],1),t._v(" "),s("router-link",{staticClass:"link-type",attrs:{to:e.row.subscriptionLink+"?topTab=backlogOperation&leftTab=expire"}},[s("el-dropdown-item",{attrs:{command:"expire"}},[t._v(t._s(t.$t("topic.subscription.expire")))])],1),t._v(" "),s("router-link",{staticClass:"link-type",attrs:{to:e.row.subscriptionLink+"?topTab=backlogOperation&leftTab=clear"}},[s("el-dropdown-item",{attrs:{command:"clear"}},[t._v(t._s(t.$t("topic.subscription.clear")))])],1),t._v(" "),s("router-link",{staticClass:"link-type",attrs:{to:e.row.subscriptionLink+"?topTab=backlogOperation&leftTab=reset"}},[s("el-dropdown-item",{attrs:{command:"reset"}},[t._v(t._s(t.$t("topic.subscription.reset")))])],1),t._v(" "),s("router-link",{staticClass:"link-type",attrs:{to:e.row.subscriptionLink+"?topTab=backlogOperation&leftTab=peek"}},[s("el-dropdown-item",{attrs:{command:"peek"}},[t._v(t._s(t.$t("topic.subscription.peek")))])],1),t._v(" "),s("el-dropdown-item",{attrs:{command:"unsub"}},[t._v(t._s(t.$t("topic.subscription.unsub")))])],1)],1)]}}])})],1)],1)],1)],1),t._v(" "),!1===t.nonPersistent?s("el-tab-pane",{attrs:{label:t.$t("tabs.storage"),name:"storage"}},[s("el-row",{attrs:{gutter:12}},[s("el-col",{attrs:{span:8}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(t.$t("topic.subscription.storageSize")))])]),t._v(" "),s("el-button",{staticClass:"circle",attrs:{type:"primary"}},[s("span",{staticStyle:{"font-size":"200%"}},[t._v(t._s(t.storageSize))])])],1)],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(t.$t("topic.subscription.entries")))])]),t._v(" "),s("el-button",{staticClass:"circle",attrs:{type:"primary"}},[s("span",{staticStyle:{"font-size":"200%"}},[t._v(t._s(t.entries))])])],1)],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s(t.$t("topic.subscription.segments")))])]),t._v(" "),s("el-button",{staticClass:"circle",attrs:{type:"primary"}},[s("span",{staticStyle:{"font-size":"200%"}},[t._v(t._s(t.segments))])])],1)],1)],1),t._v(" "),s("h4",[t._v(t._s(t.$t("topic.segment.label")))]),t._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.segmentsListLoading,expression:"segmentsListLoading"}],key:t.segmentTableKey,staticStyle:{width:"100%"},attrs:{data:t.segmentsList,border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{label:t.$t("topic.segment.ledgerId"),"min-width":"50px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.ledgerId))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.segment.entries"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.entries))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.segment.size"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.size))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.segment.status"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.status))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.segment.offload"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.offload))])]}}])})],1)],1)],1),t._v(" "),s("h4",[t._v(t._s(t.$t("topic.cursor.cursors")))]),t._v(" "),s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.cursorListLoading,expression:"cursorListLoading"}],key:t.cursorTableKey,staticStyle:{width:"100%"},attrs:{data:t.cursorsList,border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{label:t.$t("topic.cursor.label"),"min-width":"50px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.cursor.markDeletePosition"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.markDeletePosition))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.cursor.readPosition"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.readPosition))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.cursor.waitingReadOp"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.waitingReadOp))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.cursor.pendingReadOp"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.pendingReadOps))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:t.$t("topic.cursor.numberOfEntriesSinceFirstNotAckedMessage"),"min-width":"30px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.numberOfEntriesSinceFirstNotAckedMessage))])]}}])})],1)],1)],1)],1):t._e(),t._v(" "),s("el-tab-pane",{attrs:{label:t.$t("tabs.policies"),name:"policies"}},[s("h4",[t._v(t._s(t.$t("topic.policy.authentication"))+"\n        "),s("el-tooltip",{staticClass:"item",attrs:{content:t.authorizationContent,effect:"dark",placement:"top"}},[s("i",{staticClass:"el-icon-info"})])],1),t._v(" "),s("hr",{staticClass:"split-line"}),t._v(" "),s("el-form",[t._l(t.dynamicTags,function(e){return s("el-tag",{key:e,staticClass:"role-el-tag",staticStyle:{"margin-top":"20px"},attrs:{label:e,"disable-transitions":!1}},[s("div",[s("span",[t._v(" "+t._s(e)+" ")])]),t._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",placeholder:"Please Select Options"},on:{change:function(s){return t.handleChangeOptions(e)}},model:{value:t.roleMap[e],callback:function(s){t.$set(t.roleMap,e,s)},expression:"roleMap[tag]"}},t._l(t.roleMapOptions[e],function(t){return s("el-option",{key:t.value,staticStyle:{width:"300px"},attrs:{label:t.label,value:t.value}})}),1),t._v(" "),s("el-button",{on:{click:function(s){return s.preventDefault(),t.handleClose(e)}}},[t._v(t._s(t.$t("topic.delete")))])],1)}),t._v(" "),s("el-form-item",{staticStyle:{"margin-top":"30px"}},[t.inputVisible?s("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",staticStyle:{"margin-right":"10px",width:"200px","vertical-align":"top"},attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e(),t._v(" "),s("el-button",{on:{click:function(e){return t.showInput()}}},[t._v(t._s(t.$t("topic.addRole")))])],1)],2),t._v(" "),s("h4",{staticStyle:{color:"#E57470"}},[t._v(t._s(t.$t("common.dangerZone")))]),t._v(" "),s("hr",{staticClass:"danger-line"}),t._v(" "),s("el-button",{staticClass:"button",attrs:{type:"danger"},on:{click:t.handleDeleteTopic}},[t._v(t._s(t.$t("topic.deleteTopic")))])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{attrs:{"label-position":"top"}},["delete"===t.dialogStatus?s("el-form-item",[s("h4",[t._v(t._s(t.$t("topic.deleteTopicMessage")))])]):t._e(),t._v(" "),"createSub"===t.dialogStatus?s("el-form-item",[s("el-input",{attrs:{placeholder:"Please input sub name"},model:{value:t.subName,callback:function(e){t.subName=e},expression:"subName"}})],1):t._e(),t._v(" "),"deleteSub"===t.dialogStatus?s("el-form-item",[s("h4",[t._v(t._s(t.$t("topic.subscription.deleteSubConfirm")))])]):t._e(),t._v(" "),s("el-form-item",["delete"===t.dialogStatus?s("el-button",{attrs:{type:"primary"},on:{click:t.deleteTopic}},[t._v(t._s(t.$t("table.confirm")))]):t._e(),t._v(" "),"createSub"===t.dialogStatus?s("el-button",{attrs:{type:"primary"},on:{click:t.createSub}},[t._v(t._s(t.$t("table.confirm")))]):t._e(),t._v(" "),"deleteSub"===t.dialogStatus?s("el-button",{attrs:{type:"primary"},on:{click:t.deleteSub}},[t._v(t._s(t.$t("table.confirm")))]):t._e(),t._v(" "),s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("table.cancel")))])],1)],1)],1)],1)},[],!1,null,null,null);g.options.__file="topic.vue";e.default=g.exports},Y5bG:function(t,e,s){"use strict";s.d(e,"a",function(){return n}),Math.easeInOutQuad=function(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function n(t,e,s){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=t-n,a=0;e=void 0===e?500:e;!function t(){a+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(a,n,o,e)),a<e?i(t):s&&"function"==typeof s&&s()}()}},Yfch:function(t,e,s){"use strict";function i(t){return void 0===t||null===t||""===t}function n(t,e){return function(s,i,n){if(i&&0!==i.length||!e)try{if(new URL(i).protocol!==t)return void n(new Error("Please input an `"+t+"` service URL"));n()}catch(t){n(new Error("Please input a valid service URL"))}else n()}}function o(t){var e=t.charAt(t.length-1),s=t.substring(0,t.length-1);switch(e){case"k":case"K":return 1024*Number(s);case"m":case"M":return 1024*Number(s)*1024;case"g":case"G":return 1024*Number(s)*1024*1024;case"t":case"T":return 1024*Number(s)*1024*1024*1024;default:return Number(t)}}s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n}),s.d(e,"c",function(){return o})},ZmL9:function(t,e,s){"use strict";var i=s("+4/V");s.n(i).a}}]);