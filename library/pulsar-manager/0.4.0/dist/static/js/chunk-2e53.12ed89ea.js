(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2e53"],{"0CnS":function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"e",function(){return a}),o.d(t,"f",function(){return s}),o.d(t,"a",function(){return l}),o.d(t,"d",function(){return c}),o.d(t,"c",function(){return d});var n=o("t3Un"),i="/pulsar-manager";function r(e){return Object(n.a)({url:i+"/tokens",method:"get",params:{query:e}})}function a(e){return Object(n.a)({headers:{"Content-Type":"application/json"},url:i+"/tokens/token",method:"put",data:e})}function s(e){return Object(n.a)({headers:{"Content-Type":"application/json"},url:i+"/tokens/token",method:"post",data:e})}function l(e){return Object(n.a)({headers:{"Content-Type":"application/json"},url:i+"/tokens/"+e,method:"delete"})}function c(e){return Object(n.a)({headers:{"Content-Type":"application/json"},url:i+"/tokens/"+e,method:"get"})}function d(){return Object(n.a)({url:i+"/csrf-token",method:"get"})}},gJRm:function(e,t,o){"use strict";o.r(t);var n=o("0CnS"),i={name:"TokensInfo",data:function(){return{tokenList:[],tokenTableKey:0,tokenListLoading:!1,textMap:{create:"New Token",delete:"Delete Token",update:"Update Token"},dialogFormVisible:!1,dialogStatus:"",form:{token:"",role:"",description:""},temp:{token:"",role:"",description:""},description:"",rules:{token:[{required:!0,message:this.$i18n.t("token.newTokenRequiredMessage"),trigger:"blur"}]}}},created:function(){this.getTokens()},methods:{getTokens:function(){var e=this;Object(n.b)().then(function(t){if(t.data){e.tokenList=[];for(var o=0;o<t.data.data.length;o++)e.tokenList.push({token:"view",role:t.data.data[o].role,description:t.data.data[o].description})}})},handleCreateToken:function(){this.form.token="",this.form.role="",this.form.description="",this.dialogFormVisible=!0,this.dialogStatus="create"},handleDeleteToken:function(e){this.temp.token=e.token,this.temp.role=e.role,this.temp.description=e.description,this.dialogFormVisible=!0,this.dialogStatus="delete"},handleUpdateToken:function(e){this.form.role=e.role,this.form.description=e.description,this.dialogFormVisible=!0,this.dialogStatus="update"},handleOptions:function(){var e=this;this.$refs.form.validate(function(t){if(t)switch(e.dialogStatus){case"create":e.createToken();break;case"delete":e.deleteToken();break;case"update":e.updateToken()}})},createToken:function(){var e=this,t={role:this.form.role,token:"",description:this.form.description};Object(n.e)(t).then(function(t){t.data&&(t.data.hasOwnProperty("error")?e.$notify({title:"error",message:t.data.error,type:"error",duration:2e3}):(e.$notify({title:"success",message:e.$i18n.t("token.addTokenSuccessNotification"),type:"success",duration:2e3}),e.dialogFormVisible=!1,e.getTokens()))})},deleteToken:function(){var e=this;Object(n.a)(this.temp.role).then(function(t){t.data&&(t.data.hasOwnProperty("error")?e.$notify({title:"error",message:t.data.error,type:"error",duration:2e3}):(e.$notify({title:"success",message:e.$i18n.t("token.deleteTokenSuccessNotification"),type:"success",duration:2e3}),e.getTokens(),e.dialogFormVisible=!1))})},updateToken:function(){var e=this,t={role:this.form.role,description:this.form.description};Object(n.f)(t).then(function(t){t.data&&(t.data.hasOwnProperty("error")?e.$notify({title:"error",message:t.data.error,type:"error",duration:2e3}):(e.$notify({title:"success",message:e.$i18n.t("token.updateTokenSucccessNotification"),type:"success",duration:2e3}),e.getTokens(),e.dialogFormVisible=!1))})},handleGetToken:function(e){var t=this;Object(n.d)(e.role).then(function(e){e.data&&(e.data.hasOwnProperty("error")?t.$notify({title:"error",message:e.data.error,type:"error",duration:2e3}):(t.form.token=e.data.token,t.form.role=e.data.role,t.form.description=e.data.description,t.dialogFormVisible=!0,t.dialogStatus="get"))})}}},r=o("KHd+"),a=Object(r.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreateToken}},[e._v(e._s(e.$t("token.buttonNewToken")))]),e._v(" "),o("el-row",{attrs:{gutter:24}},[o("el-col",{staticStyle:{"margin-top":"15px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:24}}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tokenListLoading,expression:"tokenListLoading"}],key:e.tokenTableKey,staticStyle:{width:"100%"},attrs:{data:e.tokenList,border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{label:e.$t("token.colHeadingRole"),"min-width":"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.role))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("token.colHeadingToken"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-link",{on:{click:function(o){return e.handleGetToken(t.row)}}},[e._v(e._s(t.row.token)),o("i",{staticClass:"el-icon-view el-icon--right"})])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("token.colHeadingDesc"),align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.description))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){return e.handleUpdateToken(t.row)}}},[e._v(e._s(e.$t("table.edit")))]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDeleteToken(t.row)}}},[e._v(e._s(e.$t("table.delete")))])]}}])})],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-position":"top"}},["create"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingRole"),prop:"role"}},[o("el-input",{attrs:{placeholder:e.$t("token.newTokenRolePlaceholder")},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1):e._e(),e._v(" "),"create"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingDesc")}},[o("el-input",{attrs:{rows:2,placeholder:e.$t("token.newTokenDescPlaceholder"),type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1):e._e(),e._v(" "),"update"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingRole")}},[o("el-tag",{attrs:{type:"primary",size:"medium"}},[e._v(e._s(e.form.role))])],1):e._e(),e._v(" "),"update"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingDesc")}},[o("el-input",{attrs:{placeholder:e.$t("token.newTokenDescPlaceholder"),type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1):e._e(),e._v(" "),"delete"===e.dialogStatus?o("el-form-item",[o("h4",[e._v("Delete Role "+e._s(e.form.role))])]):e._e(),e._v(" "),"get"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingRole")}},[o("el-tag",{attrs:{type:"primary",size:"medium"}},[e._v(e._s(e.form.role))])],1):e._e(),e._v(" "),"get"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingToken")}},[o("span",{attrs:{type:"primary",size:"medium"}},[e._v(e._s(e.form.token))])]):e._e(),e._v(" "),"get"===e.dialogStatus?o("el-form-item",{attrs:{label:e.$t("token.colHeadingDesc")}},[o("span",[e._v(e._s(e.form.description))])]):e._e(),e._v(" "),"get"!==e.dialogStatus?o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleOptions()}}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1):e._e()],1)],1)],1)},[],!1,null,null,null);a.options.__file="index.vue";t.default=a.exports}}]);